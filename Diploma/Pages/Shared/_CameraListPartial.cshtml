@using Diploma.Models;
@using Diploma.ViewModels;

@model List<CameraDTO>

<div style=" overflow-x: hidden">
    <table id="GridPartialView" class="table table-striped GridPartialView">
        <thead>
            <tr>
                <th>
                    <p class="text-white">Имя</p>
                </th>
                <th>
                    <p class="text-white">Область</p>
                </th>
                <th>
                    <p class="text-white">Описание</p>
                </th>
                <th>
                    <p class="text-white">Действия</p>
                </th>
            </tr>
        </thead>
        <tbody id="CameraListGridContent">
            @foreach (CameraDTO cam in Model)
            {
                <tr>
                    <td><p class="text-white">@cam.Name</p></td>
                    <td><p class="text-white">@cam.AreaName</p></td>
                    <td><p class="text-white">@cam.Description</p></td>
                    <td>
                        @*<button type="button" class="btn btn-outline-danger" data-toggle="ajax-modal-delete-person" data-id="@cam.Id" data-url="@Url.Page("Edit", "CameraModalDeletePartial")">
                    Удалить
                    </button>
                    <button type="button" class="btn btn-outline-danger" data-toggle="ajax-modal-edit-person" data-id="@cam.Id" data-url="@Url.Page("Edit", "CameraModalEditPartial")">
                    Редактировать
                    </button>*@

                        <a onclick="jQueryModalGet('?handler=CameraCreateOrEdit&id=@cam.Id','Редактировать')" class="btn btn-info text-white"> Редактировать</a>
                        <a onclick="jQueryModalGet('?handler=CameraDelete&id=@cam.Id','Удалить')" class="btn btn-danger text-white"> Удалить</a>
                        @*<form method="post" asp-page="Index" asp-route-id="@cam.Id" asp-page-handler="Delete" onsubmit="return jQueryModalDelete(this)" class="d-inline">
                    <button type="submit" class="btn btn-danger text-white"> Delete</button>
                    </form>*@
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<script>
    $("#GridPartialView").DataTable({
        stateSave: true,
        language: {
            url: "//cdn.datatables.net/plug-ins/1.13.4/i18n/ru.json",
        },
        "scrollY": "550px",
        "scrollCollapse": true,
        "paging": true
    });
</script>
